% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/read.FCS_custom_spillover.R
\name{read.FCS_custom_spillover}
\alias{read.FCS_custom_spillover}
\title{Read Custom Spillover Matrix and Autofluorescence Vector from FCS File}
\usage{
read.FCS_custom_spillover(
  fcs,
  custom_spillover_keyword = "spillover.manual",
  original_spillover_keyword = "$SPILLOVER"
)
}
\arguments{
\item{fcs}{Either a character path to an FCS file or a \code{flowFrame} object.}

\item{custom_spillover_keyword}{Character. The keyword used to retrieve the custom
spillover matrix and autofluorescence vector. Defaults to \code{"spillover.manual"}.}

\item{original_spillover_keyword}{Character. The keyword used to identify the original
spillover matrix for determining channel order. Defaults to \code{"$SPILLOVER"}.}
}
\value{
A named list with two elements:
\describe{
\item{\code{spillover}}{A numeric matrix representing the spillover matrix.}
\item{\code{autofluorescence_proportional}}{A named numeric vector with autofluorescence contributions per channel.}
}
}
\description{
Be careful when using it, this is heavily dependent on the FCS file metadata structure.
}
\details{
This helper function extracts a custom spillover matrix and autofluorescence vector
from an FCS file or a \code{flowFrame} object. It is primarily intended for use with
\code{cmv_helper_compensation()} and related CMV data processing.

The function expects the spillover matrix and autofluorescence vector to be encoded in
custom keywords within the FCS metadata, following a convention like
\code{"spillover.manual"} and \code{"spillover_autofluorescence.manual"}.
}
\examples{
\dontrun{
read.FCS_custom_spillover(
    fcs = outfile,
    custom_spillover_keyword = comp_x,
    original_spillover_keyword = spillover_keyword
)
}
}
\keyword{cytometry}

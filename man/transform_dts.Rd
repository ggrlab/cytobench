% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/transform_dts.R
\name{transform_dts}
\alias{transform_dts}
\title{Apply Marker-Specific Transformation to a List of Cytometry Data Tables}
\usage{
transform_dts(
  datatable_list,
  scalings_names_unified = c(`FS INT` = -14, `FS TOF` = -14, `SS INT` = -14,
    `FL1 CD45RA FITC` = 50000, `FL2 CCR7 PE` = 50000, `FL3 CD28 ECD` = 50000,
    `FL4 PD1 PC5.5` = 50000, `FL5 CD27 PC7` = 50000, `FL6 CD4 APC` = 50000,
    `FL7 CD8 AF700` = 50000, `FL8 CD3 AA750` = 50000, `FL9 CD57 PB` = 50000,
    `FL10 CD45 KrO` = 50000, TIME = -14),
  notransform_special_number = -14,
  feature_unified_dict = feature_unified_dict_default(),
  transform_fun = function(x_values, scaling_factor) {
    
    asinh(x_values/scaling_factor)
 },
  inplace = TRUE
)
}
\arguments{
\item{datatable_list}{A list of \code{data.table} objects containing raw cytometry data.}

\item{scalings_names_unified}{A named numeric vector assigning a scaling factor to each marker name (e.g., \code{"FL1 CD45RA FITC" = 50000}).
If a column has value \code{notransform_special_number}, no transformation is applied to it.}

\item{notransform_special_number}{Numeric sentinel (default: -14) indicating that no transformation should be applied to the column.}

\item{feature_unified_dict}{A data.frame with a row for each feature and a \code{"unified"} column used to map alternative column names
to the canonical names found in \code{scalings_names_unified}. Typically obtained via \code{feature_unified_dict_default()}.}

\item{transform_fun}{A function with signature \verb{function(x_values, scaling_factor)} used to apply the transformation.
Default is \code{asinh(x / scaling_factor)}.}

\item{inplace}{Logical. If \code{TRUE}, the function modifies the input data.tables in-place. If \code{FALSE}, a copy is made.}
}
\value{
The transformed list of data.tables. Columns not listed in \code{scalings_names_unified} will raise an error.
}
\description{
Applies an asinh or user-defined transformation to each column of each data table in a list,
based on provided marker-specific scaling factors. Intended for flow cytometry data pre-processing.
}
\details{
If \code{inplace = FALSE}, copies of the input data.tables are created before transformation. If \code{inplace = TRUE}, the
transformations are done in-place using \code{data.table::set()}.
The function will fail if unknown columns or NAs are encountered.
}
\keyword{cytometry}

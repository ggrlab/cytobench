% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_gating_simple.R
\name{plot_gating_simple}
\alias{plot_gating_simple}
\title{Plot simple pre-/post-gate 2D scatter views from a GatingHierarchy}
\usage{
plot_gating_simple(
  gatingset,
  transformlist = NULL,
  populations = NULL,
  gg_layer = scattermore::geom_scattermore(alpha = 0.4),
  facet = TRUE,
  verbose = FALSE,
  ...
)
}
\arguments{
\item{gatingset}{A single-sample \code{flowWorkspace::GatingSet} \emph{or}
a \code{flowWorkspace::GatingHierarchy}. If a \code{GatingSet} is provided, it must
contain exactly one sample.}

\item{populations}{\code{NULL} or a character vector of population paths to plot.
If \code{NULL} (default), all non-root populations are used.}

\item{gg_layer}{A ggplot2 layer (e.g. \code{scattermore::geom_scattermore(alpha = 0.4)}
or \code{ggplot2::geom_point(alpha = 0.2, size = 0.2)}) used to draw points.
Defaults to a fast scatter layer from \strong{scattermore}.}

\item{facet}{Logical, if \code{TRUE} (default) facets columns by \code{gatingstatus}
("pregate" vs "postgate"). If \code{FALSE}, returns a single panel with both
statuses overplotted}

\item{verbose}{Logical, suppresses informative messages for non-2D gates or
missing transforms. Default \code{FALSE}.}

\item{...}{Unused; reserved for future extensions.}
}
\value{
A named \code{list} of \code{ggplot} objects, named by population path.
}
\description{
Given a single-sample \strong{GatingSet} or a \strong{GatingHierarchy}, this helper
draws a 2D scatter for each population, showing the parent (pre-gate) and the
population data (post-gate). Axes are transformed according to the gate's
channel transforms obtained from \code{flowWorkspace::gh_get_transformations()}.

TODO:
It would be great to have the same parent gate (and x-y combination (?) plot the cells from
all its children in different colors. E.g. for a a bivariate plot with 3 rectangle gates,
plot the pregated only once, and the 3 gated populations in different colors.
}
\details{
\strong{On transforms:} ggplot2 expects a \emph{trans object} from \strong{scales};
the correct constructor is \code{scales::trans_new(name, transform, inverse, domain)}.
This function builds such trans objects from the forward and inverse functions
returned by \code{gh_get_transformations()}. Populations whose channels lack either
forward or inverse transforms will be plotted on the untransformed scale with
a warning (unless \code{verbose = TRUE}).

\strong{Limitations:} Only 2-D gates are supported (typical rectangle/polygon
gates). Non-2-D populations are skipped with an informative message.
}
\examples{
\dontrun{
# Using scattermore for fast plotting
plots <- plot_gating_simple(
    gatingset = my_single_sample_gs,
    populations = c("/Cells", "/Cells/Singlets", "/Cells/Singlets/Live")
)
# Print one:
print(plots[["/Cells/Singlets"]])

# Use base geom_point and overplot pre/post in one panel
plots2 <- plot_gating_simple(
    my_gh,
    gg_layer = ggplot2::geom_point(alpha = 0.15, size = 0.2),
    facet = FALSE
)
}

}

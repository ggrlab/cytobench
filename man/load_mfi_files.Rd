% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/extract_mfi.R
\name{load_mfi_files}
\alias{load_mfi_files}
\title{Load and Optionally Gate FCS Files for MFI Extraction}
\usage{
load_mfi_files(
  fcs_dir = "data-raw/s001",
  regex_singlestain = "(-(CD3-.*)|(none))\\\\.fcs$",
  gating_set_file = NULL,
  gate_extract = NULL
)
}
\arguments{
\item{fcs_dir}{Character. Directory containing FCS files. Default: \code{"data-raw/s001"}.}

\item{regex_singlestain}{Character. Regular expression used to filter FCS filenames.
Only matching files will be loaded. Default: \code{"(-(CD3-.*)|(none))\\\\.fcs$"}.}

\item{gating_set_file}{Optional. A path to a \code{GatingSet} folder (as a string) or an in-memory \code{GatingSet} object.
If provided, the gating set will be applied to all loaded FCS samples.}

\item{gate_extract}{Optional. Name of the population to extract from the gating set.
If \code{NULL}, the first non-root gate will be used automatically.}
}
\value{
A named list of cytosets or gated cytosets, ready for MFI computation.
Each entry corresponds to one FCS file.
}
\description{
This function loads FCS files from a directory that match a specified pattern
(typically single-stain or multi-stain), and optionally applies a \code{GatingSet}
to restrict analysis to a specific gated population.
}
\examples{
set.seed(42)
fs_ss <- simulate_cd3()
tmpdir <- local_tempdir_time()
flowCore::write.flowSet(fs_ss, tmpdir)
loaded_fcs <- load_mfi_files(
    fcs_dir = tmpdir,
    regex_singlestain = "(-(CD3-.*)|(none))\\\\.fcs$",
    gating_set_file = NULL,
    gate_extract = NULL
)
}
\keyword{internal}
\keyword{relativisation}

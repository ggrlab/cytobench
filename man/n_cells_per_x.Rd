% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/n_cells_per_x.R
\name{n_cells_per_x}
\alias{n_cells_per_x}
\title{Calculate the number of cells per specified grouping}
\usage{
n_cells_per_x(
  dt,
  which = c("cluster", "metaCluster"),
  id_cols = c("sample"),
  which_levels = NULL
)
}
\arguments{
\item{dt}{A \code{data.table} or \code{data.frame} containing cell-level data with grouping columns.}

\item{which}{Character vector. The grouping variables to summarize (e.g., \code{c("cluster", "metaCluster")}).}

\item{id_cols}{Character vector. Identifier columns to group by (e.g., \code{"sample"}).}

\item{which_levels}{Optional named list of levels per grouping variable.
If \code{NULL}, the levels are inferred from the data by:
\enumerate{
\item Converting the unique values of the column to numeric.
\item Taking the maximum value (max_level_numeric)
\item Setting the levels to 1:max_level_numeric
}}
}
\value{
A named list. Each entry corresponds to one grouping variable from \code{which},
containing a wide-format data frame with counts per level (e.g., one row per sample, one column per cluster).

A data frame in wide format with the counts of cells per specified grouping.
}
\description{
Computes the number of cells for each combination of ID columns (e.g., sample)
and grouping variables (e.g., cluster, metaCluster), returning wide-format tables
for each grouping. Ensures that all levels are represented even if missing in a sample.
}
\examples{
# Example usage:
dt <- data.table::data.table(
    sample = as.character(rep(1:3, each = 4)),
    cluster = rep(1:2, times = 6),
    metaCluster = rep(1:4, times = 3)
)
n_cells_per_x(dt)
}
\keyword{flowsom}
